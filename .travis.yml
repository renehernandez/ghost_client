sudo: false
language: ruby
rvm:
  - 2.4.0
env:
  global:
  - CC_TEST_REPORTER_ID=a56fc1316eb9869f9ef69353912ad37abd138ff4a594b6290c9830718ae5cd81
before_install: gem install bundler -v 1.14.4
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- ./cc-test-reporter before-build
script:
- bundle exec rspec
after_script:
- ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT
before_deploy:
- cat ./README.md >> ./docs/index.md
deploy:
- provider: pages
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  local_dir: "./docs"
  target_branch: gh-pages
  on:
    branch: 
      - develop
      - master
- provider: rubygems
  api_key:
    secure: aZt6t60GH8ISKGw+AY/Pik1rgvYWJW0uc6Co35OlOBTNs3YitHbk5sMTq2wP0bs6qvJyPJDedAXU5F1ZEEuWz6m2wScD+Ld1hscwadNA7xcdQX6VWsJqR4biq4MkR5fLmQnTa+cDcG476J9+vL7qHJPNuiN+3jm2ODhvFlmtwtx/nXv1KgoYgpUVKBENuaVkL/7zGiFTs0nc4R32U7HGfzOGg7uXKK2JYsW5PN3KpeYVM3Df8qemVIhT6InBZvGovN1PfQ4oFV25VPLCLrQPY+qCJt54LvJQAhZVPYQaBowm1Pgg6tPA3dIHAaHI3iPKi1hOFQLoSci70OmQb7My38gWU0ARkq02eiR0uZrhkcYOuVqVU4quOGuEpagqDuWnXIz7LfnZAzfqers//TKFl/o2sLvOEfCSMZFiby6f9vk87SLyRCcsYtxYQfRBTanCgB2AlOKalSZ+WzQ4F8LvZJZbgxEoN9ul1MxHP1SeSwDlBHpXutxrX+EOfP8b/Bvi0nu8Xq2Y7HbPtfiVOXOM9aiUqWJDVaf+S5zhWd72IS54JUcCgIjeB8ryK9k1vSnfvm1VMOo7illN4MxfNNYMQk5zSeyhOLzTIQvFgALrJDGk4JtZjire0BFWUkrtEqoiD1ZuMIKWVLZbIBBMskl+bkf+VvwiubX6LibVAC4itlk=
  gem: ghost_rb
  on:
    tags: true
    repo: renehernandez/ghost_rb
    branch: master